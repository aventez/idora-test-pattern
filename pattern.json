{
  "id": "aventez/idora-test-pattern:1.1",
  "name": "Idora Test Pattern",
  "description": "A pattern to fetch major cities of a given country",
  "labels": ["demo", "fitness", "test"],
  "input_schema": [
    {
      "name": "country_iso",
      "description": "ISO of the country (test)",
      "type": "string",
      "required": true,
      "constraints": {
        "min_length": 2,
        "max_length": 3,
        "pattern": "^[A-Z]{2,3}$"
      }
    }
  ],
  "steps": [
    {
      "id": "step/1",
      "name": "Fetch major cities from LLM",
      "description": "test",
      "strategy": "gpt",
      "arguments": {
        "prompt": "List the major cities in the country with ISO code @{{input.country_iso}}. Return them as a JSON array of strings. Include at least 5 cities and ensure they are real, well-known cities in that country."
      },
      "config": {
        "model": "gpt-4o"
      },
      "output_schema": [
        {
          "name": "cities",
          "description": "list of cities",
          "type": "array",
          "required": true,
          "constraints": {
            "min_items": 5,
            "item_type": "string"
          }
        }
      ]
    }
  ],
  "fitness_contract": {
    "description": "The pattern should return a list of cities for given country.",
    "critical_constraints": [
      "At least 5 cities must be returned",
      "Cities must be real and well-known"
    ],
    "constraints": [],
    "check_methods": {
      "llm_review": true
    }
  }
}
